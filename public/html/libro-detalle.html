<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Libros Del Pobre Mundo | Libros</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="shortcut icon" href="../img/logotipos/icono.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <div class="top-banner">
        <p>Envios a todo el país | Más de 20.000 títulos en nuestro catálogo | Consultar disponibilidad</p>
    </div>
    <header>
        <div class="header-container">
            <div class="logo">
                <img src="../img/logotipos/blanco.png" alt="Logotipo Libros del pobre mundo">
            </div>
            <div class="hamburger-menu" onclick="toggleMenu()">
                &#9776;
            </div>
        </div>
        <nav id="nav-menu">
            <div class="close-menu" onclick="toggleMenu()">&#10005;</div>
            <ul>
                <li><a href="/index.html">INICIO</a></li>
                <li><a href="/catalogo.html">CATÁLOGO</a></li>
                <li><a href="/podcastyreseñas.html">PODCAST Y RESEÑAS</a></li>
                <li><a href="/contacto.html">CONTACTO</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <div class="container">
            <section id="book-details" class="book-details">
                <div class="details-container" id="details-content">
                    <!-- Contenido dinámico cargado aquí -->
                </div>
            </section>
        </div>
    </main>
    <footer>
        <div class="footer-content">
            <p>Todos los derechos reservados © 2024 Libros Del Pobre Mundo - Librería Online</p>
            <p>Diseño por <a href="">codeviciadodev</a></p>
        <div class="payment-methods">
            <p>Métodos de pagos y transferencia:</p>
            <img src="../img/pagos/mercadopago.png" alt="Método de pago 1">
            <img src="../img/pagos/itau.png" alt="Método de pago 2">
            <img src="../img/pagos/prex.png" alt="Método de pago 3">
            <img src="../img/pagos/oca blue.png" alt="Método de pago 4">
        </div>
        </div>
    </footer>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const bookId = urlParams.get('id');
            fetch('../../libros.json')
                .then(response => response.json())
                .then(data => {
                    const libro = data.find(libro => libro.id == bookId);
                    if (libro) {
                        const detailsContent = document.getElementById('details-content');
                        detailsContent.innerHTML = `
                            <div class="details-left">
                                <img src="${libro.imagen}" alt="${libro.titulo}">
                            </div>
                            <div class="details-right">
                                <h1 class="book-title">${libro.titulo}</h1>
                                <p class="book-author">${libro.autor}</p>
                                <p class="book-editorial"><strong>Editorial:</strong> ${libro.editorial}</p>
                                <p class="book-isbn"><strong>ISBN:</strong> ${libro.isbn}</p>
                                <p class="book-price"><strong>Precio:</strong> ${libro.precio}</p>
                                <p class="book-description">${libro.descripcion}</p>
                                <button class="buy-button" data-whatsapp="59894090711">Comprar</button>
                                <div class="shipping-info">
                                    <h3>Envíos a todo el país por DAC.</h3>
                                </div>
                                <div class="payment-info">
                                    <img src="../img/pagos/mercadopago rojo.png" alt="Mercado Pago">
                                    <img src="../img/pagos/itau rojo.png" alt="Itau">
                                    <img src="../img/pagos/prex rojo.png" alt="Prex">
                                    <img src="../img/pagos/oca blue rojo.png" alt="Oca Blue">
                                </div>
                            </div>
                        `;
                        document.querySelector('.buy-button').addEventListener('click', (e) => {
                            const whatsappNumber = e.target.getAttribute('data-whatsapp');
                            const whatsappUrl = `https://wa.me/${whatsappNumber}?text=Hola,%20estoy%20interesado%20en%20comprar%20el%20libro%20${libro.titulo}%20de%20${libro.autor}`;
                            window.open(whatsappUrl, '_blank');
                        });
                    } else {
                        document.getElementById('details-content').innerHTML = '<p>Libro no encontrado.</p>';
                    }
                })
                .catch(error => console.error('Error al cargar el archivo JSON:', error));
        });
    
        // MENÚ DESPLIEGUE
        function toggleMenu() {
            var menu = document.getElementById("nav-menu");
            var body = document.body;
            if (menu.classList.contains('open')) {
                menu.classList.remove('open');
                menu.classList.add('close');
                body.classList.remove('menu-open');
            } else {
                menu.classList.remove('close');
                menu.classList.add('open');
                body.classList.add('menu-open');
            }
        }
        // MENÚ DESPLIEGUE
    </script>
    <script src="../javascript/script.js"></script>
</body>
</html>